<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>pm2-windows-service by Ampakinetic</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>pm2-windows-service</h1>
        <h2>Updated utility to make PM2 automatically resurrect on Windows startup, using a native service library</h2>
        <a href="https://github.com/Ampakinetic/pm2-windows-service" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a id="pm2-as-a-windows-service" class="anchor" href="#pm2-as-a-windows-service" aria-hidden="true"><span class="octicon octicon-link"></span></a>PM2 as a Windows Service</h3>

<p>PM2 for Node currently doesn't have good windows support.  I've started with <a href="https://github.com/marklagendijk/node-pm2-windows-startup">https://github.com/marklagendijk/node-pm2-windows-startup</a> and added the excellent  <a href="https://github.com/stephenwvickers/node-os-service">https://github.com/stephenwvickers/node-os-service</a> library to it to make a PM2 Windows service.</p>

<p>To install, download from Github, then run:</p>

<div class="highlight highlight-source-shell"><pre>npm install</pre></div>

<p>This will need a native Windows C build enviroment setup to compile the os-service module.  </p>

<p>Then run the following to install the service:</p>

<div class="highlight highlight-source-shell"><pre>node index.js --add</pre></div>

<p>This will create a Windows called <em>Node.JS Process Manager (PM2) Service</em> - go to your Services list in Control Panel -&gt; Administrative Tools -&gt; Services.  </p>

<p>You will need to adjust the user that the service runs under, otherwise it won't be able to find PM2 which is in your user's roaming profile folders.  Go to the service properties, and then the "Log On" tab.  Set the user to your account, and restart the service.  </p>

<p>You should find that PM2 comes back up with a reboot and can still be controlled from the command line as before.</p>

<p>To save the current list of processes that PM2 executes:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;</span> pm2 save</pre></div>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/Ampakinetic/pm2-windows-service/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/Ampakinetic/pm2-windows-service/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/Ampakinetic/pm2-windows-service"></a> is maintained by <a href="https://github.com/Ampakinetic">Ampakinetic</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
